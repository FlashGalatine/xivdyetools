# BUG-006: D1 Mock Records Bindings at `bind()` Time, Not Execution Time

## Severity
MEDIUM

## Type
Behavioral Discrepancy (Mock vs Production)

## Location
- File: `packages/test-utils/src/cloudflare/d1.ts`
- Line(s): ~182-188
- Function: `bind()`

## Description
The D1 mock records bindings immediately when `.bind()` is called, not when the statement is actually executed (via `.first()`, `.all()`, or `.run()`). In production D1, `bind()` only prepares the statement. This can cause false-positive test assertions.

## Evidence
```typescript
bind: (...values: unknown[]) => {
  boundValues = values;
  bindings.push(values);  // ← Recorded immediately at bind time
  return statement;
},
```

## Reproduction Scenario
```typescript
const stmt = db.prepare('SELECT ...').bind('a', 'b');
// Statement was bound but NEVER executed
expect(db._bindings).toHaveLength(1);  // ← Passes incorrectly!
```

## Suggested Fix
Move `bindings.push(values)` into the execution methods (`first`, `all`, `run`, `raw`) alongside `queries.push(query)`.

## Why It's Hidden
Most test code immediately chains `.bind().first()` or similar, so the binding and execution happen together. The issue only manifests when bind and execution are separated.
