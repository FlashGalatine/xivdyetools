# BUG-012: CJK Character Width Miscalculation in SVG Category Badge

## Severity
LOW

## Type
Layout / Rendering

## Location
- File: `packages/svg/src/dye-info-card.ts`
- Line(s): ~138
- Function: Category badge width calculation

## Description
The category badge width is calculated as `displayCategory.length * 8 + 20`, which assumes all characters are Latin-width. CJK characters (Japanese, Korean, Chinese) are typically ~2x the width of Latin characters. This causes badges to be too narrow for CJK locale names.

## Evidence
```typescript
const categoryWidth = displayCategory.length * 8 + 20;
```

For example, "ニュートラル" (Neutral in Japanese) has 6 characters but renders ~12 Latin-width characters wide.

## Suggested Fix
Implement CJK-aware width estimation:

```typescript
function estimateTextWidth(text: string, charWidth: number): number {
  let width = 0;
  for (const char of text) {
    const code = char.codePointAt(0) ?? 0;
    const isCJK = (code >= 0x3000 && code <= 0x9FFF) ||
                  (code >= 0xAC00 && code <= 0xD7AF);
    width += isCJK ? charWidth * 2 : charWidth;
  }
  return width;
}

const categoryWidth = estimateTextWidth(displayCategory, 8) + 20;
```

## Why It's Hidden
English is the default/primary locale, and most testing uses English. CJK layout issues only appear when generating SVGs for Japanese, Korean, or Chinese Discord servers.
